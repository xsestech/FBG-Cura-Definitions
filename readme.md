# Интеграция принтера Flying Bear Ghost 4S в Cura.

# ВНИМАНИЕ!!! Интеграция серьезно переработана для версии 3.0 от 26.02.2020. Смотрите в разделе "Новые фичи". Обязательно прочитайте всю инструкцию по установке, т.к. переход на новую версию интеграции может сломать ваши настройки или даже привести к невозможности запустить программу. Выкладывание новых версий в облако Google Drive прекращено. Обновления будут только на GitHub.

Интеграция позволяет удобно добавить принтер Flying Bear Ghost 4S из меню дабавления принтера в Ultimaker Cura.

- Подходит для Ultimaker Cura версий 4.3 - 4.5
- Подходит для принтера Flying Bear Ghost 4
- Подходит для принтера Flying Bear Ghost 4S

### Особенности

- В меню добавления нового принтера в Cura добавлены:
    - производитель Flying Bear:
        - принтер Flying Bear Ghost 4S
        - принтер Flying Bear Ghost 4S Extended (см. ниже)
- В профиле принтера преднастроены габариты рабочего стола, диаметр пластика, g-code начала и окончания печати.
- Скрыты все встроенные в Cura материалы (т.к. в основном недоступны для покупки и не используются), Generic материалы остаются видимыми и доступными для использования при создании новых.
- Настройки принтера по-умолчанию(скорости, ускорения, джерки и пр.) взяты из стокового файла настроек robin_nano35_cfg.txt для Flying Bear Ghost 4S, дополнительные настройки печати - на основе существующих файлов для Creality Ender-3.
- В меню выбора материалов добавлены популярные у нас Bestfilament, FD Plast и eSUN. Выбор влияет на температуры сопла и стола, обдув, ретракт и скорость ретракта. Внутри профилей в описании есть рекомендации по печати от производителя.
- Отображение модели и текстуры стола Flying Bear Ghost 4S в окне программы.

### Новые фичи

- Создан скрипт для удобной установки интеграции в папку %USERPROFILE%\AppData\Roaming\Сura\ВЕРСИЯ_КУРЫ\ 
> Скрипт запакован в самораспаковывающийся zip-архив - это необходимо потому, что GitHub портит кодировку скрипта при создании релиза. Внутри архива находится файл .bat, при желании вы можете достать его оттуда и проверить исполняемый код
- Охват версий Cura расширен до 4.3 - 4.5
- REGULAR и FULL версии теперь объединены в одну интеграцию и выбираются в меню добавления принтера: 
     - Flying Bear Ghost 4S для REGULAR
     - Flying Bear Ghost 4S Extended для FULL
    > **!!! Из-за этого объединения принтер из версии FULL в этом выпуске превратится в ~~тыкву~~ принтер версии REGULAR и вызовет ошибку при запуске программы. Смотрите инструкцию по установке в разделе Extended !!!**

# Extended версия

> **!!! Extended версия не рекомендуется обычному пользователю  !!!**

Особенности и отличия:

- Создана на основе файлов для Creality Ender-3
- Совместима с профилями Creality Ender 3 - позволяет их импортировать (обычная версия выдаёт ошибку и не позволяет их импортировать)
- Профили диаметра сопла (рядом с выбором материала вверху), влияют на ширину экструзии и сопустсвующие параметры
    > Диаметр сопла 0.2 | 0.3 | 0.4 | 0.5 | 0.6 | 0.8 | 1.0
- Профили качества. Меняют высоту слоя и некоторые другие параметры, влияют на соотношение качество/скорость печати. Диапазон выбора ограничен диаметром сопла.
    > Высота слоя 0.08 | 0.12 | 0.16 | 0.20 | 0.28 | 0.32. Высоты слоя оптимальны для механики оси Z и рассчитаны через калькулятор Optimal layer height for your Z axis на сайте https://blog.prusaprinters.org/calculator/ . В обычной версии используются стандартные профили качества с высотой слоя 0.1 | 0.15 | 0.2 | 0.3 и т.д.


### Новые фичи Extended

- Добавлен профиль качества "normal" из обычной версии (скрыт для выбора) - это необходимо для совместимости при импорте профилей печати от обычной версии или от других принтеров, которые требуют соответствующее качество

----

# Disclaimer!

Интеграция протестирована, но в вашей уникальной конфигурации "компьютер+Cura+интеграция+старые профили" могут поизойти ошибки. Установка происходит на ваш страх и риск и автор не несёт никакой ответсвенности за какие-либо последствия, даже если у вас сломается принтер, от вас уйдет жена, а местные бомжи начнут презрительно на вас смотреть.

----

# Инструкция по установке

Скачайте  [последний релиз](https://github.com/FBGhost-community/FBG-Cura-Definitions/releases/latest). Основная установка теперь производится с помощью скрипта. 

> Каждая версия Cura требует своего значения setting_version: 9 для версии 4.3, 10 для 4.4 и 11 для 4.5. Из-за этого файлы интеграции имеют прямую совместимость при повышении версии, но не имеют обратной, т.е. файлы для версии 4.5 не работают на версии 4.4 или 4.3. В скрипте установки интеграции вы можете выбрать старые версии 4.3 и 4.4 в случае даунгрейда.
> **Не ставьте интеграцию с версией выше, чем версия программы Cura, которой вы собираетесь пользоваться!**

### Основная установка:
#### Windows

Для новых и новых пользователей при этом обновлении:
- Экспортируйте или другим путём сохраните нужные вам профили печати из меню программы Cura
- ⚠ Закройте программу Cura
- Распакуйте zip-архив и запустите cura_integration_setup.exe
- Выберите нужную версию Cura во время установки интеграции
- Запустите Cura и в меню добавления принтера выберите >Add Printer > Add a non-networked printer > Flying Bear > Flying Bear Ghost 4S
- Импортируйте необходимые профили
- Готово

Для старых пользователей при будущих обновлениях:
- ⚠ Закройте программу Cura
- Распакуйте zip-архив и запустите cura_integration_setup.exe
- Выберите нужную версию Cura во время установки интеграции
- Запустите Cura
- Готово

#### Mac OS
Для старых и новых пользователей при этом обновлении:
- Экспортируйте или другим путём сохраните нужные вам профили печати из меню программы Cura
- Распакуйте zip-архив и запустите FlyingBear-Cura-Integration-macos-installer-x64-0.1.0.pkg
- Запустите Cura
- Готово

### Установка при обновлении Cura 4.3 -> 4.4 -> 4.5


- Экспортируйте или другим путём сохраните нужные вам профили печати из меню программы Cura
- Запустите установку новой версии Cura
- Во время установки Cura не выбирайте удаление старой версии до уверенности, что на новой версии всё работает как надо. Удалите потом
- В конце установки обязательно выберите "Запустить Ultimaker Cura", тогда файлы из %USERPROFILE%\AppData\Roaming\Сura\СТАРАЯ_ВЕРСИЯ будут корректно скопированы в %USERPROFILE%\AppData\Roaming\Сura\НОВАЯ_ВЕРСИЯ
- После запуска Cura закройте её
- Распакуйте zip-архив и запустите cura_integration_setup.exe

- Выберите нужную версию Cura во время установки интеграции
- Попробуйте запустить программу снова

### Установка Extended

К сожалению, в этом релизе установка сломает старую интеграцию и может привести к невозможности запуска программы.

- Экспортируйте или другим путём сохраните нужные вам профили печати из меню программы Cura
- Удалите принтер, чтоб потом программа смогла запуститься
- ⚠ Закройте программу Cura
- Распакуйте zip-архив и запустите cura_integration_setup.exe
- Выберите нужную версию Cura во время установки интеграции
- Запустите Cura и в меню добавления принтера выберите производитель Flying Bear -> принтер Flying Bear Ghost 4S Extended
- Импортируйте необходимые профили
- Готово

> В случае перехода с Extended версии на обычную, импорт Extended профилей не будет работать и потребуется сохранение настроек другим путём. Требуется дополнительное тестирование.

----

# Изменения:

- 2020.01.15 - релиз 1.0
- 2020.01.16 - переделан стартовый и конечный g-code, параметры печати для материалов Bestfilament и FD Plast исправлены c рекомендуемых на вменяемые
- 2020.01.17 - релиз 2.0, добавлена модель (автор @ORecTeam) и текстура стола Flying Bear Ghost 4S. Добавлен пункт инструкции с удалением папки в \AppData\Local
- 2020.01.21 - изменена текстура стола, логотип теперь сделан по-человечески (автор @RamSoft) и добавлена инструкция по сбросу программы Cura.
- 2020.01.31 - мелкие правки в профилях материалов
- 2020.02.18 - глобальная переработка
    - добавлен скрипт установки
    - добавлены версии для Cura 4.3, 4.4 и 4.5-beta
    - переход от версий REGULAR / FULL к общей версии с выбором принтера Normal / Extended
    - профили пластика привязаны к Generic для наследования встроенных в Cura настроек (требует тестирования)
- 2020.02.26 - релиз 3.0, подходит для Cura 4.3, 4.4 и 4.5
- 2020.02.28 - скрипт запакован в самораспаковывающийся zip-архив - это необходимо потому, что GitHub портит кодировку скрипта при создании релиза

----

# Благодарности:

* @a3lme
* @TheDemonCat
* @ORecTeam
* @RamSoft
* Всем, кто помогал тестировать и находить ошибки
